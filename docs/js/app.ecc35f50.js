(function(){"use strict";var t={6963:function(t,e,i){var s=i(5130),n=i(6768);const l={class:"center"},o={class:"wrap"};function r(t,e,i,s,r,a){const u=(0,n.g2)("InsituVizApp");return(0,n.uX)(),(0,n.CE)("div",l,[(0,n.Lk)("div",o,[(0,n.bF)(u,{title:"Single",src:"/data/single/data.csv"}),(0,n.bF)(u,{title:"CameraPath",src:"/data/CameraPath/data.csv"}),(0,n.bF)(u,{title:"CameraFocus",src:"/data/CameraFocus/data.csv"}),(0,n.bF)(u,{title:"Multi",src:"/data/multi2/data.csv"})])])}var a=i(4232);const u=t=>((0,n.Qi)("data-v-1f3e1572"),t=t(),(0,n.jt)(),t),m={class:"component"},h=["src"],c={class:"yoko"},p=u((()=>(0,n.Lk)("p",{class:"txt"},"Time",-1))),f=["max","value"],d={class:"txt"},v={class:"yoko"},g=u((()=>(0,n.Lk)("p",{class:"txt"},"Frame",-1))),b=["max"],x={class:"txt"};function k(t,e,i,l,o,r){return(0,n.uX)(),(0,n.CE)("div",m,[(0,n.Lk)("h1",null,(0,a.v_)(i.title),1),(0,n.Lk)("div",null,[(0,n.Lk)("img",{src:r.files(o.tmslider),onMousemove:e[0]||(e[0]=(...t)=>r.imgMouseMove&&r.imgMouseMove(...t)),onMousedown:e[1]||(e[1]=(...t)=>r.imgMouseDown&&r.imgMouseDown(...t)),onMouseup:e[2]||(e[2]=(...t)=>r.imgMouseUp&&r.imgMouseUp(...t)),onContextmenu:e[3]||(e[3]=t=>{t.preventDefault()}),class:"imagecomp"},null,40,h)]),(0,n.Lk)("div",null,[(0,n.Lk)("div",c,[p,(0,n.Lk)("progress",{id:"prog",max:o.maxtime,value:r.times(o.tmslider),class:"slider"},null,8,f),(0,n.Lk)("p",d,(0,a.v_)(r.times(o.tmslider)),1)]),(0,n.Lk)("div",v,[g,(0,n.bo)((0,n.Lk)("input",{type:"range",max:r.datum.length-1,step:"1","onUpdate:modelValue":e[4]||(e[4]=t=>o.tmslider=t),class:"slider"},null,8,b),[[s.Jo,o.tmslider]]),(0,n.Lk)("p",x,(0,a.v_)(o.tmslider),1),(0,n.Lk)("button",{class:"btn",onClick:e[5]||(e[5]=(...t)=>r.playbutton&&r.playbutton(...t))},(0,a.v_)(o.pbutton),1),(0,n.Lk)("button",{class:"btn",onClick:e[6]||(e[6]=(...t)=>r.speedbutton&&r.speedbutton(...t))},"x"+(0,a.v_)(o.speed),1)])])])}i(4114);var w={name:"InsituViz",props:{title:String,src:String},data(){return{tmslider:0,singlefiles:[],multifiles:[],maxtime:0,pbutton:"Play",timeid:null,speed:1,mousedrag:!1}},computed:{datum(){return this.multifiles.length>0?this.multifiles:this.singlefiles.length>0?this.singlefiles:[]}},methods:{init(){this.singlefiles.length=0,this.multifiles.length=0,this.maxtime=0,this.mousedrag=!1},files(t){return this.multifiles.length>0?this.multifiles[t].file:this.singlefiles.length>0?this.singlefiles[t].file:""},times(t){return this.multifiles.length>0?this.multifiles[t].time:this.singlefiles.length>0?this.singlefiles[t].time:0},loadData(t){var e=t.split("/"),i=e.slice(0,e.length-1).join("/");fetch(t).then((t=>{if(!t.ok)throw new Error("Network response was not ok");return t.text()})).then((t=>{const e=t.indexOf("\n"),s=t.slice(0,e),n=s.split(","),l=t.slice(e+1),o=l.split("\n"),r=o.map((t=>t.split(",")));var a,u;if(3==n.length)for(a in r)r[a][0]&&r[a][2]&&(u=0|parseInt(r[a][0]),this.singlefiles.push({time:u,file:i+"/"+r[a][2]}),this.maxtime=Math.max(this.maxtime,u));else for(a in r)r[a][0]&&r[a][5]&&(u=0|parseInt(r[a][0]),this.multifiles.push({time:u,theta:parseInt(r[a][3]),phi:parseInt(r[a][4]),file:i+"/"+r[a][5]}),this.maxtime=Math.max(this.maxtime,u));console.log("max time:"+this.maxtime)})).catch((t=>{console.error("There was a problem with the fetch operation:",t)}))},playbutton(){null==this.timeid?(this.pbutton="Stop",this.play()):(this.pause(),this.pbutton="Play")},speedbutton(){var t=[1,2,4,8,16,32,64],e=0;t.push(t[0]);while(this.speed!=t[e])e++;this.speed=t[e+1],null!=this.timeid&&this.play()},play(){null==this.timeid?this.timeid=setInterval((()=>{var t=parseInt(this.tmslider)+1;t>this.datum.length-1&&(t=0),this.tmslider=t}),1e3/this.speed):(this.pause(),this.play())},pause(){null!=this.timeid&&(clearInterval(this.timeid),this.timeid=null)},imgMouseMove(t){this.mousedrag&&console.log(t.offsetX,t.offsetY)},imgMouseDown(t){this.mousedrag=!0,console.log(t.button),t.preventDefault()},imgMouseUp(t){this.mousedrag=!1,console.log(t.button),t.preventDefault()}},mounted(){this.init(),console.log("load insitu csv:"+this.src),this.loadData(this.src)}},y=i(1241);const M=(0,y.A)(w,[["render",k],["__scopeId","data-v-1f3e1572"]]);var L=M,O={name:"App",components:{InsituVizApp:L}};const C=(0,y.A)(O,[["render",r]]);var I=C;(0,s.Ef)(I).mount("#app")}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var l=e[s]={exports:{}};return t[s].call(l.exports,l,l.exports,i),l.exports}i.m=t,function(){var t=[];i.O=function(e,s,n,l){if(!s){var o=1/0;for(m=0;m<t.length;m++){s=t[m][0],n=t[m][1],l=t[m][2];for(var r=!0,a=0;a<s.length;a++)(!1&l||o>=l)&&Object.keys(i.O).every((function(t){return i.O[t](s[a])}))?s.splice(a--,1):(r=!1,l<o&&(o=l));if(r){t.splice(m--,1);var u=n();void 0!==u&&(e=u)}}return e}l=l||0;for(var m=t.length;m>0&&t[m-1][2]>l;m--)t[m]=t[m-1];t[m]=[s,n,l]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,l,o=s[0],r=s[1],a=s[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(a)var m=a(i)}for(e&&e(s);u<o.length;u++)l=o[u],i.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return i.O(m)},s=self["webpackChunkinsitu_viz"]=self["webpackChunkinsitu_viz"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[504],(function(){return i(6963)}));s=i.O(s)})();
//# sourceMappingURL=app.ecc35f50.js.map